<!DOCTYPE HTML>
<html>
	<head>
		<title>Davide Giardini - Scraping NBA's odds</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="/assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<div class="inner">
					<a href="#" class="image avatar"><img src="/images/avatar.jpg" alt="" /></a>
					<h1>Hello!<br> My name is <strong>Davide Giardini,</strong><br />
					I'm a very passionate Data Science student</a>.</h1>
				</div>
			</header>

		<!-- Main -->
			<div id="main">
				<!-- One -->
					<section id="one">
                        <a href="/index.html" class="fa fa-arrow-circle-left"> Back</a>
						<header class="major">
							<h1>Scraping NBA Odds</h1>
							<h3>Web scraping NBA Asian Handicaps and Over/Unders from <a href="https://www.oddsportal.com/">oddsportal.com</a> to evaluate the accuracy of the NBA betting market.</h3>
						</header>

						<p>
							In the final year of my Bachelor's degree in <em>Statistical Sciences for Economics and Business</em>, I had the opportunity to assist a university friend with his thesis.
							As a passionate sports enthusiast, he decided to combine his love for sports with his interest in statistics, an ideal match, particularly in the context of betting markets.
							His goal was to <strong>evaluate the precision of betting odds</strong> by comparing pre-match Asian Handicaps and Over/Unders to the actual match outcomes.<br><br>

							<blockquote>
								<h4>Asian Handicap</h4>
								A form of betting in which one team is given a point advantage or disadvantage to level the playing field. A stronger team must win by more points for a bet on them to be successful.
							</blockquote>

							<blockquote>
								<h4>Over/Under</h4>
								A type of bet that predicts the total combined score of both teams. Bettors wager on whether the actual score will be over or under a specified number.
							</blockquote>

							For each match, every possible value of the Asian Handicap (AH) or Over/Under (O/U) is associated with two odds: one for the outcome being lower and one for it being higher.
							The AH or O/U point at which the two odds are equal, or nearly equal, represents the market's most balanced prediction.<br><br>

							<h4>Example</h4>
							In Game 1 of the 2022 <a href="https://www.oddsportal.com/basketball/usa/nba/golden-state-warriors-boston-celtics-MweE8wV8/#ah;1">NBA Finals between the Golden State Warriors and the Boston Celtics</a>,
							the AH odds were equal at -3.5 (1.90 each), implying the market's best estimate was that the Warriors would win by 3.5 points.
							Similarly, the O/U odds balanced at 214 points, indicating that the market predicted a total combined score of 214.<br><br>

							<blockquote>
								<h4>The Objective</h4>
								The aim was to compare the balanced AH and O/U values with the actual point differential and total score of the game to assess how accurate the betting market was.
							</blockquote><br>

							<h4>The Scraper</h4>
							Since no suitable dataset existed, I offered to help by building a web scraper.
							I had just completed the <a href="https://freecodecamp.org/certification/davide_giardini/scientific-computing-with-python-v7">Scientific Computing with Python</a> and
							<a href="https://freecodecamp.org/certification/davide_giardini/data-analysis-with-python-v7">Data Analysis with Python</a> certifications from freeCodeCamp and was eager to apply my skills to a real-world project.<br><br>

							The scraper, built with Selenium and BeautifulSoup, performs the following steps:
							<ol>
								<li>Access <code>oddsportal.com</code> and set the desired time zone.</li>
								<li>Loop through NBA seasons and their corresponding pages.</li>
								<li>For each match:
									<ul>
										<li>Scrape the teams, final score, date, competition category (Pre-Season, Regular Season, Play-In, Play-Off), and link to the odds page.</li>
									</ul>
								</li>
								<li>For each match's odds page:
									<ul>
										<li>Scrape the Asian Handicap odds and identify the AH with the closest pair of odds.</li>
										<li>Scrape the Over/Under odds and identify the O/U with the closest pair of odds.</li>
										<li>Scrape quarter-by-quarter scores.</li>
									</ul>
								</li>
								<li>Run a correction function to recover any missing or failed data.</li>
							</ol>

							<h4>The Final Dataset</h4>
							The resulting dataset includes matches from the 2010/2011 to the 2021/2022 NBA seasons. It contains <strong>15,868 observations</strong> across <strong>12 variables</strong>:
							<ol>
								<li><strong>Names:</strong> Teams involved in the match</li>
								<li><strong>Link:</strong> URL to the odds page</li>
								<li><strong>Score:</strong> Final score of the match</li>
								<li><strong>Score.q:</strong> Scores at the end of each quarter</li>
								<li><strong>OverTime:</strong> Boolean indicating if the game went to overtime</li>
								<li><strong>Score.OT:</strong> Score at the beginning of overtime</li>
								<li><strong>Date:</strong> Date of the match</li>
								<li><strong>Category:</strong> Pre-Season, Regular Season, Play-In, or Play-Off</li>
								<li><strong>AH:</strong> Asian Handicap with the most balanced odds</li>
								<li><strong>diff.AH:</strong> Difference between the two closest AH odds</li>
								<li><strong>O/U:</strong> Over/Under with the most balanced odds</li>
								<li><strong>diff.OU:</strong> Difference between the two closest O/U odds</li>
							</ol>
						</p>
						<ul class="actions">
                            				<li><a href="https://github.com/DavideGiardini/OddsPortal-WebScraper" class="button icon brands fa-github">View on Github</a></li>
							<li><a href="https://www.kaggle.com/datasets/giardinidavide/nba-odds" class="button icon brands fa-kaggle">View on Kaggle</a></li>
						</ul>
					</section>
                    <section>
                        <h3>Tags</h3>
                        <a class="button">Scraping</a>
                        <a class="button">Beautiful Soup</a>
                        <a class="button">Selenium</a>
                        <a class="button">Sport Statistics</a>
                        <a class="button">Bets</a>
                        <a class="button">Python</a>
                        <a class="button">Data Acquisition</a>
                        <a class="button">Odds Analysis</a>
                    </section>

		<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<ul class="icons">
						<li><a href="https://github.com/DavideGiardini" class="icon brands fa-github"><span class="label">Github</span></a></li>
						<li><a href="https://linkedin.com/in/davide-giardini" class="icon brands fa-linkedin"><span class="label">Dribbble</span></a></li>
						<li><a href="mailto:davide.giardini00@gmail.com" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
					</ul>
					<ul class="copyright">
						<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="/assets/js/jquery.min.js"></script>
			<script src="/assets/js/jquery.poptrox.min.js"></script>
			<script src="/assets/js/browser.min.js"></script>
			<script src="/assets/js/breakpoints.min.js"></script>
			<script src="/assets/js/util.js"></script>
			<script src="/assets/js/main.js"></script>

	</body>
</html>
